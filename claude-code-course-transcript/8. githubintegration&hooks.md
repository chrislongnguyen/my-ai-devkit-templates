In this lesson, you'll learn how to use Claude
0:05
Code outside of the terminal with a GitHub integration.
0:08
You'll see how to set up Claude Code
0:11
to review pull requests and fix issues in GitHub.
0:14
You'll then learn how to execute code before
0:17
and after using tools through Claude Code hooks. Let's dive in.
0:21
We left off in the last section merging our wortrees together,
0:25
but we forgot to ask Claude to remove those worktrees.
0:28
So we're going to hop back into Claude. So
0:30
I'm going to go and pass in the resume flag
0:32
to go back to a previous
0:35
conversation that I had with my worktrees.
0:38
In this particular conversation, we can now
0:40
go back to where we were before
0:42
and finish up with removing our worktrees.
0:45
So let's ask Claude, remove the .trees folder
0:47
and the underlying worktrees, and once you're done,
0:50
push this code to GitHub. So
0:52
let's go ahead and give Claude Code
0:54
a second to run the necessary git commands
0:56
to remove that folder and then pushed our merge code
0:59
to GitHub. We'll go ahead and give Claude Code access to
1:03
see the underlying worktrees so that we not only
1:05
remove the worktrees,
1:08
but also delete the corresponding branches.
1:11
We'll go ahead and remove these particular trees.
1:14
now remove the directory and then remove the underlying branches.
1:17
Now that we've done that, let's go ahead
1:19
make sure that worked as expected, which is good.
1:21
we don't have that folder. And
1:23
now, let's push this code to GitHub.
1:25
We'll confirm that we want to
1:26
run the git push origin main command
1:28
and it looks like our code is pushed to GitHub.
1:31
Now that we've committed and pushed our code to GitHub,
1:34
let's start installing the GitHub integration that comes with Claude Code.
1:38
I'll do that using the /install-GitHub-app command.
1:42
Here you might see that you need to
1:44
include additional authentication using the command line interface.
1:48
So if you see those setup instructions, make sure to follow them.
1:51
We'll now be able to install the GitHub
1:54
app for the current repository that we're working in.
1:56
So let's go ahead and do
1:58
that. This will open up the browser.
1:59
And if I have not yet configured
2:01
this, I'll have the option to install.
2:04
What this integration allows us to do is use Claude Code
2:07
in pull requests and issues
2:09
to respond to feedback, fix errors,
2:12
modify code, and much more.
2:15
In order for this functionality to exist,
2:17
it's built on top of the software development kit
2:19
that comes with Claude Code. This SDK allows you
2:23
to use Claude Code outside
2:25
of the terminal interface. So let's head back to the terminal.
2:29
specify the workflows we want to install.
2:32
These workflows allow for tagging Claude in issues
2:35
and using Claude to automatically review code in our pull requests.
2:40
Let's install both. We'll create a long-lived token.
2:44
and here we'll have to authorize and authenticate with Claude.
2:48
Once that's done, we can head back
2:49
and we'll see that it's creating the repository information,
2:53
setting up any additional information I need,
2:55
and sending me right back to GitHub
2:57
to open a pull request.
2:59
with the changes that had been made.
3:01
We can see here automatically,
3:03
this pull request allows for GitHub Actions
3:06
to enable bug fixes, writing tests and code reviews.
3:10
We can change this if we like,
3:11
or we can go ahead and create a pull request
3:14
with the default information. In this pull request, we can see
3:18
that not only have we created
3:20
a YAML file for Claude to operate,
3:23
we also have one for code reviews.
3:24
Here we can see out of the
3:26
box, we have some pretty sane defaults. We can filter
3:29
by authors, we can specify what this is running on.
3:32
But out of the box, we get
3:33
quite a bit of really nice functionality.
3:35
If you'd like to modify the prompt
3:36
that you have in your code review, you can do that here.
3:40
And since this is a file that is tracked by git,
3:42
you can constantly edit this if you need.
3:45
I'm going to go ahead now and merge this in,
3:47
so we can start using Claude Code in GitHub.
3:50
We can go ahead and see right out of
3:52
the box that a Claude GitHub action has actually started.
3:54
This is what we're going to see out
3:56
of the box in our future pull requests.
3:58
It's going to read and analyze files, check code quality,
4:01
identify security considerations, and out of the box,
4:05
we now have a new teammate, Claude,
4:07
to check the work that we
4:08
and our other team members are doing.
4:10
This sometimes takes a little bit of
4:11
time to start, but once this has finished,
4:13
we'll get some detailed assessments from Claude,
4:15
and we'll be able to merge in the pull request
4:17
when we're ready. So it looks like the review is done,
4:19
and depending on the prompt that we give it, we can specify
4:23
how much depth and information we want here.
4:25
We see some things that are working well,
4:27
maybe some considerations that we
4:29
you may need. And if this looks good to us,
4:31
we can merge in that pull request. Now
4:33
we're going to see out of the box,
4:35
in future pull requests, Claude will help review our code.
4:37
This is really helpful when humans might miss certain things
4:41
and you need an extra step to check
4:43
that what you have is working as expected.
4:45
Let's imagine there's a situation where an issue comes up.
4:48
Someone on our team decides to add a new issue.
4:50
We could do this in GitHub, we
4:52
could even do this in Claude Code.
4:54
As you might have noticed, as we kept building on
4:56
top of this application, we started to see a new
4:59
new header that was added. This new header
5:01
might look kind of nice, but maybe we
5:03
want to revert to what we had previously.
5:05
So let's add an issue and
5:07
see if Claude can help us out.
5:08
You can imagine we have an issue here.
5:10
The application has a new header that was added,
5:14
Let's go back to the old one.
5:16
Make sure to keep the toggle theme but just
5:19
make the header look like what it was before. We'll also specify,
5:23
make sure to remove the Course Materials Assistant header.
5:27
Remove the subheader.
5:28
around ask questions, and then remove the
5:32
horizontal row below the subheader.
5:39
Now that we created this issue,
5:41
we could assign someone to tackle it.
5:42
But why don't we just ask Claude to help us out?
5:44
Claude, can you fix this for me? Once we tag in Claude,
5:47
we're going to start to give Claude a little bit of time
5:49
to fix the issue at hand.
5:51
When Claude has fixed that issue,
5:53
it should be able to generate a pull request
5:55
to fix that particular one. So
5:57
let's give Claude a little bit of
5:58
time to find that action. Here we're
6:00
going to see Claude Code is working,
6:02
and if we want to see the underlying job that's run,
6:04
we can go ahead and do that. So
6:06
let's give Claude a little bit of time
6:07
and see what it can come up with.
6:09
What you're seeing is going to look very familiar
6:11
to what we saw in the command line.
6:13
Analyze the structure, remove the header.
6:16
And here, I can even choose what to prioritize if I'd like.
6:20
But what you're seeing here is the same
6:22
thing we saw just outside of the
6:24
terminal. Not only can we use Claude
6:25
to tackle issues and pull requests,
6:28
we can also use Claude to review code as we saw before.
6:30
As we start to see its plan, we'll notice
6:33
what the changes are that are being
6:35
made, where in the codebase it's proposing things,
6:38
and as we see the pull request, we can start to
6:40
see some of the thinking and logic behind what's being done.
6:43
Seems like this one isn't too tough,
6:44
so it's going to follow these steps,
6:46
test the changes, commit and push those.
6:48
It's now made the commit necessary.
6:50
We can see the underlying description here.
6:53
If we'd like, we can create this pull request,
6:55
or we can just have Claude do all that work for us.
6:58
When we create the pull request.
6:59
We see exactly what was generated in the commit.
7:02
And now, let's go take a look and see what Claude did.
7:05
We can take a look at the underlying files that we changed.
7:08
There wasn't too much here. We can merge this in.
7:10
As we saw before, Claude's also going to take
7:12
some time and review the code that Claude wrote.
7:15
And this can actually be quite helpful because
7:16
as much as we want to trust Claude,
7:18
it's nice to have another Claude double checking its work.
7:21
So it looks like Claude Code
7:22
has approved the task I have here.
7:23
Let's merge this in. And then we'll head back to the terminal
7:26
and make sure to pull down the changes. is that we have.
7:29
So I'll head over to VS Code, pull down the changes.
7:34
And let's see if our front end looks any better.
7:37
And there we have it. The header
7:39
is taken out, the horizontal rows taken out.
7:40
We might want to bring back that
7:42
horizontal row or move this to another place.
7:44
But now we know how to do it,
7:46
not only in the terminal, but also in GitHub.
7:49
One more piece of functionality that I want
7:51
to show is something that was recently released,
7:53
which is the ability to add
7:55
what's called a hook to Claude Code.
7:57
If you're familiar here with this idea of
7:59
hooks. This is going to feel very similar.
8:01
The idea is that as we have different operations in Claude Code,
8:05
like executing a tool or something happening after a tool,
8:09
we can inject specific code to run at any
8:12
point in the life cycle of Claude Code's operation.
8:16
Let me show you what I mean
8:17
by that. Back in VS code, I'm going
8:18
to hop in back to Claude again. And
8:21
while we can make these changes manually, I
8:23
want to show you the editor that we have.
8:25
So I'm going to type in slash hooks.
8:28
manage configurations for tool events.
8:30
What you're seeing might look a little bit scary,
8:33
but it's our obligation to let you know.
8:35
If you are running arbitrary shell commands,
8:38
you have to be very careful about what you're doing.
8:40
There are quite a few different events that we can run hooks.
8:43
Before a tool is executed, we can
8:45
even stop that tool from being executed.
8:48
We can do something after, when a notification is sent,
8:51
when the user submits a prompt, when something stops,
8:53
or even before a subagent concludes its
8:56
response. So we have the ability to
8:58
programmatically to tap in to any of these events.
9:02
I want to show a simple example with a PostToolUse hook.
9:06
Start by adding a matcher. In this matcher,
9:08
I can specify the tools that I want
9:11
to be matched for this hook to run.
9:14
I'm going to add a very, very
9:15
simple example here. Anytime there is a Read
9:18
or anytime there is a Grep,
9:21
I'm going to run a simple terminal command.
9:23
The new hook or command I'm
9:25
going to run is the say command.
9:27
The say command, runs the computer's audio
9:29
and a path for what text you'd like it to say.
9:33
So if I've done this correctly, after we have read something
9:36
or use the grep tool to find something
9:38
in a file, our machine should say, all done.
9:41
Let's add this again in our project settings.
9:43
We mentioned earlier the settings.local.json file where we can specify permissions.
9:49
This is also where your hooks live.
9:51
Inside of our .claude,
9:53
we can see in our settings.local.json,
9:56
not only do we have our permissions,
9:58
but we now have a hook that we've defined.
10:00
PostToolUse is the name of the hook,
10:02
the matcher, which if you take out will apply to anything.
10:06
But here, reading or grep,
10:09
go run the command say 'All done!' when we're done.
10:11
Let's try this out. I'm going to quit out of Claude Code.
10:14
I'm going to open it up again.
10:16
read the contents of the run.sh file.
10:19
This should use the read tool as expected. All done.
10:22
And once it's done, it notifies us and tells us all done.
10:25
Well, this is kind of a fun little example, you can
10:28
imagine executing code like running tests or running linters
10:31
or potentially stopping tools from being
10:33
used if that's not what we want
10:35
or even having Claude review itself when certain things happen.
10:38
There's a lot you can do with
10:39
hooks and there's so much more that's coming.
10:41
So make sure to look at the
10:42
documentation to see everything you can do.
10:44
And you can always use Claude Code to
10:47
write hooks for you and modify them accordingly.
10:49
In the next section, we'll explore using Claude Code with Jupyter notebooks
10:52
to create visualizations, refactor code, and operate in a slightly different environment.